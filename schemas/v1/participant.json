{
  "$defs": {
    "Age": {
      "description": "Age information.",
      "properties": {
        "@type": {
          "const": "QuantityValue",
          "default": "QuantityValue",
          "enum": [
            "QuantityValue"
          ],
          "title": "@Type",
          "type": "string"
        },
        "value": {
          "description": "Age value",
          "minimum": 0.0,
          "title": "Value",
          "type": "number"
        },
        "unit": {
          "default": "YR",
          "description": "Unit of age (typically YR for years)",
          "title": "Unit",
          "type": "string"
        }
      },
      "required": [
        "value"
      ],
      "title": "Age",
      "type": "object"
    },
    "Assessment": {
      "description": "Clinical assessment entry.",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Assessment name",
          "title": "Name"
        },
        "score": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Assessment score",
          "title": "Score"
        },
        "date": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Assessment date",
          "title": "Date"
        }
      },
      "title": "Assessment",
      "type": "object"
    },
    "ClinicalData": {
      "description": "Clinical or health-related information.",
      "properties": {
        "diagnosis": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Clinical diagnoses",
          "title": "Diagnosis"
        },
        "medicationHistory": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/Medication"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Medication history",
          "title": "Medicationhistory"
        },
        "assessments": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/Assessment"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Clinical assessment scores",
          "title": "Assessments"
        }
      },
      "title": "ClinicalData",
      "type": "object"
    },
    "Consent": {
      "description": "Information about consent and data sharing.",
      "properties": {
        "consentDate": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Consent date",
          "title": "Consentdate"
        },
        "consentVersion": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Version of consent form used",
          "title": "Consentversion"
        },
        "dataSharing": {
          "anyOf": [
            {
              "enum": [
                "public",
                "restricted",
                "private"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Level of data sharing permitted",
          "title": "Datasharing"
        },
        "restrictions": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Specific restrictions on data use",
          "title": "Restrictions"
        }
      },
      "title": "Consent",
      "type": "object"
    },
    "DemographicData": {
      "description": "Demographic and experimental group information.",
      "properties": {
        "age": {
          "anyOf": [
            {
              "$ref": "#/$defs/Age"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Participant age"
        },
        "sex": {
          "anyOf": [
            {
              "enum": [
                "M",
                "F",
                "other",
                "unknown"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Biological sex",
          "title": "Sex"
        },
        "gender": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Gender identity",
          "title": "Gender"
        },
        "group": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Experimental group assignment",
          "examples": [
            "experimental",
            "control",
            "treatment_a",
            "treatment_b"
          ],
          "title": "Group"
        },
        "ethnicity": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Self-reported ethnicity",
          "title": "Ethnicity"
        },
        "handedness": {
          "anyOf": [
            {
              "enum": [
                "left",
                "right",
                "ambidextrous",
                "unknown"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Handedness",
          "title": "Handedness"
        },
        "species": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "human",
          "description": "Species (for animal studies)",
          "examples": [
            "human",
            "mouse",
            "rat",
            "monkey"
          ],
          "title": "Species"
        },
        "strain": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Genetic strain (for animal studies)",
          "examples": [
            "C57BL/6J",
            "Sprague-Dawley"
          ],
          "title": "Strain"
        },
        "geneticModification": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Genetic modifications (for animal studies)",
          "title": "Geneticmodification"
        }
      },
      "title": "DemographicData",
      "type": "object"
    },
    "Environment": {
      "description": "Environmental conditions.",
      "properties": {
        "temperature": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Temperature",
          "title": "Temperature"
        },
        "lighting": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Lighting conditions",
          "title": "Lighting"
        },
        "noiseLevel": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Noise level",
          "title": "Noiselevel"
        }
      },
      "title": "Environment",
      "type": "object"
    },
    "Links": {
      "description": "Links to related resources.",
      "properties": {
        "products": {
          "anyOf": [
            {
              "format": "uri",
              "maxLength": 2083,
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Link to all products for this participant",
          "title": "Products"
        },
        "measures": {
          "anyOf": [
            {
              "format": "uri",
              "maxLength": 2083,
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Link to available measures",
          "title": "Measures"
        },
        "sessions": {
          "anyOf": [
            {
              "format": "uri",
              "maxLength": 2083,
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Link to session metadata",
          "title": "Sessions"
        }
      },
      "title": "Links",
      "type": "object"
    },
    "Medication": {
      "description": "Medication history entry.",
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Medication name",
          "title": "Name"
        },
        "dosage": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Dosage",
          "title": "Dosage"
        },
        "duration": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Duration of use",
          "title": "Duration"
        }
      },
      "title": "Medication",
      "type": "object"
    },
    "ProductsAvailable": {
      "description": "Summary of available data products for this participant.",
      "properties": {
        "count": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Total number of products",
          "title": "Count"
        },
        "measures": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Types of measurements available",
          "title": "Measures"
        },
        "sessions": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Sessions with data",
          "title": "Sessions"
        },
        "byMeasure": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "integer"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Product counts by measurement type",
          "title": "Bymeasure"
        },
        "bySession": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "integer"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Product counts by session",
          "title": "Bysession"
        }
      },
      "title": "ProductsAvailable",
      "type": "object"
    },
    "SessionDuration": {
      "description": "Session duration.",
      "properties": {
        "value": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Duration value",
          "title": "Value"
        },
        "unit": {
          "default": "MIN",
          "description": "Duration unit",
          "title": "Unit",
          "type": "string"
        }
      },
      "title": "SessionDuration",
      "type": "object"
    },
    "SessionMetadata": {
      "description": "Metadata about an experimental session.",
      "properties": {
        "session": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Session identifier",
          "title": "Session"
        },
        "date": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Session date",
          "title": "Date"
        },
        "duration": {
          "anyOf": [
            {
              "$ref": "#/$defs/SessionDuration"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Session duration"
        },
        "notes": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Session notes",
          "title": "Notes"
        },
        "experimenter": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Experimenter name",
          "title": "Experimenter"
        },
        "environment": {
          "anyOf": [
            {
              "$ref": "#/$defs/Environment"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Environmental conditions"
        }
      },
      "title": "SessionMetadata",
      "type": "object"
    }
  },
  "$id": "https://rap-spec.evidencepub.io/v1/schemas/participant.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "A research participant with associated demographic data and available products.\n\nContains demographic information, clinical data, consent information,\nand summaries of available data products.",
  "properties": {
    "@context": {
      "anyOf": [
        {
          "const": "https://rap-spec.evidencepub.io/v1/context",
          "enum": [
            "https://rap-spec.evidencepub.io/v1/context"
          ],
          "type": "string"
        },
        {
          "type": "object"
        }
      ],
      "title": "@Context"
    },
    "@type": {
      "const": "Participant",
      "default": "Participant",
      "enum": [
        "Participant"
      ],
      "title": "@Type",
      "type": "string"
    },
    "@id": {
      "description": "Unique URI for this participant",
      "format": "uri",
      "maxLength": 2083,
      "minLength": 1,
      "title": "@Id",
      "type": "string"
    },
    "identifier": {
      "description": "Participant ID (e.g., sub-01, P001)",
      "pattern": "^[A-Za-z0-9_-]+$",
      "title": "Identifier",
      "type": "string"
    },
    "demographicData": {
      "anyOf": [
        {
          "$ref": "#/$defs/DemographicData"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Demographic and experimental group information"
    },
    "enrollmentDate": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Date participant was enrolled in study",
      "title": "Enrollmentdate"
    },
    "status": {
      "anyOf": [
        {
          "enum": [
            "active",
            "completed",
            "withdrawn",
            "excluded"
          ],
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Current participation status",
      "title": "Status"
    },
    "exclusionReason": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Reason for exclusion if status is 'excluded'",
      "title": "Exclusionreason"
    },
    "clinicalData": {
      "anyOf": [
        {
          "$ref": "#/$defs/ClinicalData"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Clinical or health-related information"
    },
    "productsAvailable": {
      "anyOf": [
        {
          "$ref": "#/$defs/ProductsAvailable"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Summary of available data products for this participant"
    },
    "sessionMetadata": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/$defs/SessionMetadata"
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Metadata about each experimental session",
      "title": "Sessionmetadata"
    },
    "links": {
      "anyOf": [
        {
          "$ref": "#/$defs/Links"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Links to related resources"
    },
    "consent": {
      "anyOf": [
        {
          "$ref": "#/$defs/Consent"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Information about consent and data sharing"
    },
    "privacyLevel": {
      "anyOf": [
        {
          "enum": [
            "anonymous",
            "pseudonymous",
            "identifiable"
          ],
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": "pseudonymous",
      "description": "Level of privacy protection",
      "title": "Privacylevel"
    }
  },
  "required": [
    "@context",
    "@id",
    "identifier"
  ],
  "title": "Participant",
  "type": "object"
}
